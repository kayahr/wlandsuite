<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jan 8, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("../../css/maven-base.css");
      @import url("../../css/maven-theme.css");
      @import url("../../css/site.css");
    </style>
    <link rel="stylesheet" href="../../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120108" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://www.ailis.de/~k/software/projects/wlandsuite/" id="bannerLeft">
                                                <img src="../../images/logo.png" alt="wlandsuite" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-01-08</span>
                  &nbsp;| <span id="projectVersion">Version: 1.3.2</span>
                      </div>
            <div class="xright">                    <a href="http://wasteland.wikispaces.com/" class="externalLink" title="Wasteland Wiki">Wasteland Wiki</a>
            |
                        <a href="http://games.groups.yahoo.com/group/wasteland/" class="externalLink" title="Snake Squeezins">Snake Squeezins</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Wasteland Suite</h5>
                  <ul>
                  <li class="none">
                          <a href="../../index.html" title="About">About</a>
            </li>
                  <li class="none">
                          <a href="../../download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../../install.html" title="Installation">Installation</a>
            </li>
                  <li class="none">
                          <a href="../../problems.html" title="Report problems">Report problems</a>
            </li>
          </ul>
                       <h5>Tutorials</h5>
                  <ul>
                  <li class="none">
                          <a href="../../tutorials/game/index.html" title="Game tutorial">Game tutorial</a>
            </li>
          </ul>
                       <h5>Programs</h5>
                  <ul>
                  <li class="none">
                          <a href="../../decodepic.html" title="decodepic">decodepic</a>
            </li>
                  <li class="none">
                          <a href="../../encodepic.html" title="encodepic">encodepic</a>
            </li>
                  <li class="none">
                          <a href="../../unpackmasks.html" title="unpackmasks">unpackmasks</a>
            </li>
                  <li class="none">
                          <a href="../../packmasks.html" title="packmasks">packmasks</a>
            </li>
                  <li class="none">
                          <a href="../../unpacksprites.html" title="unpacksprites">unpacksprites</a>
            </li>
                  <li class="none">
                          <a href="../../packsprites.html" title="packsprites">packsprites</a>
            </li>
                  <li class="none">
                          <a href="../../unpackcpa.html" title="unpackcpa">unpackcpa</a>
            </li>
                  <li class="none">
                          <a href="../../packcpa.html" title="packcpa">packcpa</a>
            </li>
                  <li class="none">
                          <a href="../../unpackhtds.html" title="unpackhtds">unpackhtds</a>
            </li>
                  <li class="none">
                          <a href="../../packhtds.html" title="packhtds">packhtds</a>
            </li>
                  <li class="none">
                          <a href="../../unpackpics.html" title="unpackpics">unpackpics</a>
            </li>
                  <li class="none">
                          <a href="../../packpics.html" title="packpics">packpics</a>
            </li>
                  <li class="none">
                          <a href="../../unpackcurs.html" title="unpackcurs">unpackcurs</a>
            </li>
                  <li class="none">
                          <a href="../../packcurs.html" title="packcurs">packcurs</a>
            </li>
                  <li class="none">
                          <a href="../../unpackfnt.html" title="unpackfnt">unpackfnt</a>
            </li>
                  <li class="none">
                          <a href="../../packfnt.html" title="packfnt">packfnt</a>
            </li>
                  <li class="none">
                          <a href="../../unpackgame.html" title="unpackgame">unpackgame</a>
            </li>
                  <li class="none">
                          <a href="../../packgame.html" title="packgame">packgame</a>
            </li>
                  <li class="none">
                          <a href="../../fixwloffsets.html" title="fixwloffsets">fixwloffsets</a>
            </li>
                  <li class="none">
                          <a href="../../extractmaps.html" title="extractmaps">extractmaps</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="../../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../../images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Game Tutorial Step 7: Creating dialogues<a name="Game_Tutorial_Step_7:_Creating_dialogues"></a></h2><p>With <a class="externalLink" href="http://wasteland.wikispaces.com/Dialogue+Data">action class 8</a> you can create interactions with NPCs or computer terminals or the button panel of a lift or what ever. In this example we will add a woman which will ask you if she's attractive or not. And your answer will affect how the woman reacts to you when you visit her again.</p><p>Here is the code:</p><div><pre>&lt;actions actionClass=&quot;8&quot;&gt;
  &lt;dialogue id=&quot;0&quot; menu=&quot;true&quot; message=&quot;8&quot;&gt;
    &lt;answer message=&quot;9&quot; newActionClass=&quot;1&quot; newAction=&quot;1&quot; /&gt;
    &lt;answer message=&quot;10&quot; newActionClass=&quot;1&quot; newAction=&quot;2&quot; /&gt;
  &lt;/dialogue&gt;
&lt;/actions&gt;</pre></div><p>It does the following: When you step on the square you have connected to this action then the conversation starts with the message string 8. The conversation is menu based. This means you select the answer by typing a single character instead of a whole word. The two <i>answer</i> elements defines the possible answers. The <i>message</i> attributes references string messages which define the key to press and <i>newActionClass</i> and <i>newAction</i> defines how the square is modified when this answer is selected.</p><p>The dialogue tag can have some more attributes: If you want to change the square to a special action class and action if the user aborts the conversation with the Escape key then you can use the <i>cancelNewActionClass</i> and <i>cancelNewAction</i> attributes. The same you can do when the user answers with an unknown answer (<i>otherNewActionClass</i> and <i>otherNewAction</i>).</p><p>Because the above code changes the square to two different print actions we have to define these print actions, too. Here they are. Put them into the action container for action class 1:</p><div><pre>&lt;print id=&quot;1&quot;&gt;
  &lt;message&gt;6&lt;/message&gt;
&lt;/print&gt;
&lt;print id=&quot;2&quot;&gt;
  &lt;message&gt;7&lt;/message&gt;
&lt;/print&gt;</pre></div><p>And here are the new strings:</p><div><pre>&lt;string id=&quot;6&quot;&gt;\rHello, sweety! How are you?\r&lt;/string&gt;
&lt;string id=&quot;7&quot;&gt;\rLeave me alone, filthy Ranger!\r&lt;/string&gt;
&lt;string id=&quot;8&quot;&gt;A woman starts talking to you: &quot;Hello, mister. Do you think I'm attractive?&quot;\r\rY)es, ma'am, I do.\r\rN)o, you look like a weasel!\r&lt;/string&gt;
&lt;string id=&quot;9&quot;&gt;Y&lt;/string&gt;
&lt;string id=&quot;10&quot;&gt;N&lt;/string&gt;</pre></div><p>You can download the current state of the map here: <a href="./step7/map01.xml">map01.xml</a>.</p><img src="step7.png" alt="" /><p><a href="./step6.html">Back to step 6</a> | <a href="./index.html">Index page</a> | <a href="./step8.html">Move on to step 8</a></p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2010-2012
                        <a href="http://www.ailis.de/~k/">Klaus Reimer</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
