<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jan 8, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("../../css/maven-base.css");
      @import url("../../css/maven-theme.css");
      @import url("../../css/site.css");
    </style>
    <link rel="stylesheet" href="../../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120108" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="../.././" id="bannerLeft">
                                                <img src="../../images/logo.png" alt="wlandsuite" />
                </a>
                              <a href="https://github.com/kayahr/wlandsuite/" id="bannerRight">
                                        <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-01-08</span>
                  &nbsp;| <span id="projectVersion">Version: 1.3.1</span>
                      </div>
            <div class="xright">                    <a href="http://wasteland.gamepedia.com/Wasteland:_The_Definitive_Deconstruction" class="externalLink" title="Wasteland Wiki">Wasteland Wiki</a>
            |
                        <a href="http://games.groups.yahoo.com/group/wasteland/" class="externalLink" title="Snake Squeezins">Snake Squeezins</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Wasteland Suite</h5>
                  <ul>
                  <li class="none">
                          <a href="../../index.html" title="About">About</a>
            </li>
                  <li class="none">
                          <a href="../../download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../../install.html" title="Installation">Installation</a>
            </li>
                  <li class="none">
                          <a href="../../problems.html" title="Report problems">Report problems</a>
            </li>
          </ul>
                       <h5>Tutorials</h5>
                  <ul>
                  <li class="none">
                          <a href="../../tutorials/game/index.html" title="Game tutorial">Game tutorial</a>
            </li>
          </ul>
                       <h5>Programs</h5>
                  <ul>
                  <li class="none">
                          <a href="../../decodepic.html" title="decodepic">decodepic</a>
            </li>
                  <li class="none">
                          <a href="../../encodepic.html" title="encodepic">encodepic</a>
            </li>
                  <li class="none">
                          <a href="../../unpackmasks.html" title="unpackmasks">unpackmasks</a>
            </li>
                  <li class="none">
                          <a href="../../packmasks.html" title="packmasks">packmasks</a>
            </li>
                  <li class="none">
                          <a href="../../unpacksprites.html" title="unpacksprites">unpacksprites</a>
            </li>
                  <li class="none">
                          <a href="../../packsprites.html" title="packsprites">packsprites</a>
            </li>
                  <li class="none">
                          <a href="../../unpackcpa.html" title="unpackcpa">unpackcpa</a>
            </li>
                  <li class="none">
                          <a href="../../packcpa.html" title="packcpa">packcpa</a>
            </li>
                  <li class="none">
                          <a href="../../unpackhtds.html" title="unpackhtds">unpackhtds</a>
            </li>
                  <li class="none">
                          <a href="../../packhtds.html" title="packhtds">packhtds</a>
            </li>
                  <li class="none">
                          <a href="../../unpackpics.html" title="unpackpics">unpackpics</a>
            </li>
                  <li class="none">
                          <a href="../../packpics.html" title="packpics">packpics</a>
            </li>
                  <li class="none">
                          <a href="../../unpackcurs.html" title="unpackcurs">unpackcurs</a>
            </li>
                  <li class="none">
                          <a href="../../packcurs.html" title="packcurs">packcurs</a>
            </li>
                  <li class="none">
                          <a href="../../unpackfnt.html" title="unpackfnt">unpackfnt</a>
            </li>
                  <li class="none">
                          <a href="../../packfnt.html" title="packfnt">packfnt</a>
            </li>
                  <li class="none">
                          <a href="../../unpackgame.html" title="unpackgame">unpackgame</a>
            </li>
                  <li class="none">
                          <a href="../../packgame.html" title="packgame">packgame</a>
            </li>
                  <li class="none">
                          <a href="../../fixwloffsets.html" title="fixwloffsets">fixwloffsets</a>
            </li>
                  <li class="none">
                          <a href="../../extractmaps.html" title="extractmaps">extractmaps</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="../../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../../images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Game Tutorial Step 9: Altering multiple squares<a name="Game_Tutorial_Step_9:_Altering_multiple_squares"></a></h2><p><a class="externalLink" href="http://wasteland.gamepedia.com/Dialogue+Data">Action class 12 (c)</a> can be used to change the action class and action of multiple squares at once. This is used for example to enable the hidden passage in Faran Brygo's hideout. In this example we will create a worker which will build us a nice wall faster than you can blink. </p><p>Find a place on the map to put the worker on and set this square to action class <i>c</i>, action <i>00</i> and tile <i>0c</i>. Then create the alteration code:</p><div><pre>&lt;actions actionClass=&quot;0xc&quot;&gt;
  &lt;alteration id=&quot;0&quot; message=&quot;12&quot; newActionClass=&quot;1&quot; newAction=&quot;3&quot;&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;1&quot; y=&quot;0&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;2&quot; y=&quot;0&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;3&quot; y=&quot;0&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;4&quot; y=&quot;0&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;4&quot; y=&quot;1&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;4&quot; y=&quot;2&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;4&quot; y=&quot;3&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;3&quot; y=&quot;3&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;2&quot; y=&quot;3&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;1&quot; y=&quot;3&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;1&quot; y=&quot;2&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
    &lt;alter relative=&quot;true&quot; x=&quot;1&quot; y=&quot;1&quot; newActionClass=&quot;4&quot; newAction=&quot;1&quot; /&gt;
  &lt;/alteration&gt;
&lt;/actions&gt;</pre></div><p>Wow, lot of code. But what's it for? The <i>message</i> attribute defines a message string which is displayed when you step on the square. Then the child alter elements are executed. You may already be able to read them without further description but I explain anyway: The <i>relative</i> attribute defines if the <i>x</i> and <i>y</i> coordinates are relative or absolute. And <i>newActionClass</i> and <i>newAction</i> defines to which new action class and action we want to set the square referenced with the <i>x</i> and <i>y</i> coordinates. In this case we set lots of squares to the a new mask action you need to add to the action container of action class 4:</p><div><pre>&lt;actions actionClass=&quot;4&quot;&gt;
  &lt;mask id=&quot;1&quot; message=&quot;13&quot; tile=&quot;54&quot; impassable=&quot;true&quot; /&gt;
&lt;/actions&gt;</pre></div><p>This mask action just masks a square with a wall tile which is impassable and prints message 13 when you bump into it.</p><p>Now back to the alteration code. The <i>alteration</i> tag itself also has a <i>newActionClass</i> and <i>newAction</i> attribute. This defines the replacement for the current square after the alteration has finished. In this case we set the square to a new print action you have to add to action class 1:</p><div><pre>&lt;print id=&quot;3&quot;&gt;
  &lt;message&gt;14&lt;/message&gt;
&lt;/print&gt;</pre></div><p>Add the new strings and you are done:</p><div><pre>&lt;string id=&quot;12&quot;&gt;\r&quot;A wall? Yes, Sir! Give me just a second, Sir!&quot;\r&lt;/string&gt;
&lt;string id=&quot;13&quot;&gt;\rA nice wall made of stone.\r&lt;/string&gt;
&lt;string id=&quot;14&quot;&gt;\r&quot;A nice wall. Isn't it, Sir?&quot; says the worker.\r&lt;/string&gt;  </pre></div><p>Pack the game and start up Wasteland. When you now step on the square where you put the worker he will create the wall. When you visit the worker again he will just tell you about the nice wall and that's it. </p><p>You can download the current state of the map here: <a href="./step9/map01.xml">map01.xml</a>.</p><img src="step9.png" alt="" /><p><a href="./step8.html">Back to step 8</a> | <a href="./index.html">Index page</a> | <a href="./step10.html">Move on to step 10</a></p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2010-2012
                        <a href="http://www.ailis.de/~k/">Klaus Reimer</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
