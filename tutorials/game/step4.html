<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jan 8, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("../../css/maven-base.css");
      @import url("../../css/maven-theme.css");
      @import url("../../css/site.css");
    </style>
    <link rel="stylesheet" href="../../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120108" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="../.././" id="bannerLeft">
                                                <img src="../../images/logo.png" alt="wlandsuite" />
                </a>
                              <a href="https://github.com/kayahr/wlandsuite/" id="bannerRight">
                                        <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-01-08</span>
                  &nbsp;| <span id="projectVersion">Version: 1.3.1</span>
                      </div>
            <div class="xright">                    <a href="http://wasteland.wikispaces.com/" class="externalLink" title="Wasteland Wiki">Wasteland Wiki</a>
            |
                        <a href="http://games.groups.yahoo.com/group/wasteland/" class="externalLink" title="Snake Squeezins">Snake Squeezins</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Wasteland Suite</h5>
                  <ul>
                  <li class="none">
                          <a href="../../index.html" title="About">About</a>
            </li>
                  <li class="none">
                          <a href="../../download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../../install.html" title="Installation">Installation</a>
            </li>
                  <li class="none">
                          <a href="../../problems.html" title="Report problems">Report problems</a>
            </li>
          </ul>
                       <h5>Tutorials</h5>
                  <ul>
                  <li class="none">
                          <a href="../../tutorials/game/index.html" title="Game tutorial">Game tutorial</a>
            </li>
          </ul>
                       <h5>Programs</h5>
                  <ul>
                  <li class="none">
                          <a href="../../decodepic.html" title="decodepic">decodepic</a>
            </li>
                  <li class="none">
                          <a href="../../encodepic.html" title="encodepic">encodepic</a>
            </li>
                  <li class="none">
                          <a href="../../unpackmasks.html" title="unpackmasks">unpackmasks</a>
            </li>
                  <li class="none">
                          <a href="../../packmasks.html" title="packmasks">packmasks</a>
            </li>
                  <li class="none">
                          <a href="../../unpacksprites.html" title="unpacksprites">unpacksprites</a>
            </li>
                  <li class="none">
                          <a href="../../packsprites.html" title="packsprites">packsprites</a>
            </li>
                  <li class="none">
                          <a href="../../unpackcpa.html" title="unpackcpa">unpackcpa</a>
            </li>
                  <li class="none">
                          <a href="../../packcpa.html" title="packcpa">packcpa</a>
            </li>
                  <li class="none">
                          <a href="../../unpackhtds.html" title="unpackhtds">unpackhtds</a>
            </li>
                  <li class="none">
                          <a href="../../packhtds.html" title="packhtds">packhtds</a>
            </li>
                  <li class="none">
                          <a href="../../unpackpics.html" title="unpackpics">unpackpics</a>
            </li>
                  <li class="none">
                          <a href="../../packpics.html" title="packpics">packpics</a>
            </li>
                  <li class="none">
                          <a href="../../unpackcurs.html" title="unpackcurs">unpackcurs</a>
            </li>
                  <li class="none">
                          <a href="../../packcurs.html" title="packcurs">packcurs</a>
            </li>
                  <li class="none">
                          <a href="../../unpackfnt.html" title="unpackfnt">unpackfnt</a>
            </li>
                  <li class="none">
                          <a href="../../packfnt.html" title="packfnt">packfnt</a>
            </li>
                  <li class="none">
                          <a href="../../unpackgame.html" title="unpackgame">unpackgame</a>
            </li>
                  <li class="none">
                          <a href="../../packgame.html" title="packgame">packgame</a>
            </li>
                  <li class="none">
                          <a href="../../fixwloffsets.html" title="fixwloffsets">fixwloffsets</a>
            </li>
                  <li class="none">
                          <a href="../../extractmaps.html" title="extractmaps">extractmaps</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="../../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../../images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Game Tutorial Step 4: Making loot bags<a name="Game_Tutorial_Step_4:_Making_loot_bags"></a></h2><p>With <a class="externalLink" href="http://wasteland.wikispaces.com/Loot+Data">action class 5</a> you can create loot bags. Usually these actions are not directly connected to a square but to other actions so they are the result of a slayn monster or a solved puzzle. But in this example we are going to connect a square directly to loot bag. For loot bags it's recommended to always use the <i>newActionClass</i> and <i>newAction</i> attributes to reset the square to something different after the loot bag has been cleared. If you don't use these attributes then the loot bag will stay all the time on the map but it will be empty.</p><div><pre>&lt;actions actionClass=&quot;5&quot;&gt;
  &lt;loot id=&quot;0&quot; newActionClass=&quot;0&quot; newAction=&quot;0&quot;&gt;
    &lt;item value=&quot;0x14&quot; /&gt;
    &lt;item value=&quot;0x1f&quot; quantity=&quot;5&quot; /&gt;
    &lt;item value=&quot;0x36&quot; /&gt;
    &lt;itemGroup value=&quot;0x0d&quot; quantity=&quot;2&quot; /&gt;
    &lt;randomMoney quantity=&quot;1000&quot; /&gt;
  &lt;/loot&gt;
&lt;/actions&gt;</pre></div><p>The code above defines a loot bag with a Red Ryder (item 0x14), five 7.62mm clips (item 0x1f), two random explosives (item group 0x0d), a rope (item 0x36) and a random amount of money with a maximum of 1000 USD. You can find a list of items and item groups in the <a class="externalLink" href="http://wasteland.wikispaces.com/Items">Wiki</a>. If you want a fixed amount of money instead then you can use the <i>fixedMoney</i> tag instead of the <i>randomMoney</i> tag. Please note that money must always be the last item in the loot bag. Otherwise strange things can happen.</p><p>When the last item is taken from the loot bag then the square is set to action class 0 and action 0.</p><p>To connect a square with the new loot bag you just have to set it's action class to 5 and the action to 00. You don't need to set a special tile. The game will draw the loot bag sprite automatically over the current tile of the square.</p><p>Please note that it's not good to have multiple squares referencing the same loot bag. They will both contain the same content. So if you take the Red Ryder from the first bag then it will also be removed from the second bag which may confuse the player.</p><p>You can download the current state of the map here: <a href="./step4/map01.xml">map01.xml</a>.</p><img src="step4.png" alt="" /><p><a href="./step3.html">Back to step 3</a> | <a href="./index.html">Index page</a> | <a href="./step5.html">Move on to step 5</a></p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2010-2012
                        <a href="http://www.ailis.de/~k/">Klaus Reimer</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
